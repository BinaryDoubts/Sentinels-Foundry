{{!-- Auxiliary Sheet for displaying Modes/Forms for divided and form-changer archetype --}}

{{!-- A table that allows players to enable the extra things required for modular, form-changer --}}
{{!-- and the divided archetypes --}}
<div class="auxiliary-table">
    <table class="box-border">
        <tr>
            <td>
                <div class="auxiliary-item">
                    <input class="set-modular" type="checkbox" name="data.modular" {{checked data.data.modular}}
                        data-dtype="boolean" />
                    <p>{{localize "SCRPG.auxiliary.modular"}}</p>
                </div>
            </td>
            {{#if (eq data.data.modular true)}}
            <td>
                <div class="auxiliary-item">
                    <input type="checkbox" name="data.powerless" {{checked data.data.powerless}} data-dtype="boolean" />
                    <p>{{localize "SCRPG.auxiliary.powerless"}}</p>
                </div>
            </td>
            {{/if}}
        </tr>
        <tr>
            <td>
                <div class="auxiliary-item">
                    <input class="set-formchanger" type="checkbox" name="data.formchanger" {{checked
                        data.data.formchanger}} data-dtype="boolean" />
                    <p>{{localize "SCRPG.auxiliary.formChanger"}}</p>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="auxiliary-item">
                    <input class="set-divided" type="checkbox" name="data.divided" {{checked data.data.divided}}
                        data-dtype="boolean" />
                    <p>{{localize "SCRPG.auxiliary.divided"}}</p>
                </div>
            </td>
            {{#if (eq data.data.divided true)}}
            <td>
                <div class="auxiliary-item">
                    <input type="checkbox" name="data.dividedPsyche" {{checked data.data.dividedPsyche}}
                        data-dtype="boolean" />
                    <p>{{localize "SCRPG.auxiliary.dividedPsyche"}}</p>
                </div>
            </td>
            <td>
                <div class="auxiliary-item">
                    <input type="checkbox" name="data.dividedStatus" {{checked data.data.dividedStatus}}
                        data-dtype="boolean" />
                    <p>{{localize "SCRPG.auxiliary.dividedStatus"}}</p>
                </div>
            </td>
            {{/if}}
        </tr>
    </table>
</div><br>

{{!-- Displays auxiliary boxes for form-changer --}}
{{#if (eq data.data.formchanger true)}}

{{> "systems/scrpg/templates/partials/formmodularcommon.hbs"}}

{{/if}}

{{!-- Displays auxiliary boxes for modular --}}
{{#if (eq data.data.modular true)}}

{{> "systems/scrpg/templates/partials/formmodularcommon.hbs"}}

{{!-- Second yellow mode/form --}}
<div {{#if (eq data.data.mode "yellow2" )}} class="select-border yellow-abilities mode-name"
    {{else}}class="box-border yellow-abilities mode-name" {{/if}}>
    <input class="mode-name-input" type="text" name="data.modeName.yellow2" value="{{data.data.modeName.yellow2}}">
    {{!-- Buttons for minimizing the details and applying it to character --}}
    <a title='{{localize "SCRPG.button.show"}}' class="show-yellow2 mode-item" {{#if (eq data.data.modeDisplayed.yellow2
        true )}} style="color:green" {{/if}} data-aux="yellow2">
        <i class="fas fa-expand-arrows-alt"></i>
    </a>
    <a title='{{localize "SCRPG.button.changeMode"}}' class="set-mode mode-item" {{#if (eq data.data.mode "yellow2" )}}
        style="color:green" {{/if}} data-aux="yellow2">
        <i class="fas fa-upload"></i>
    </a>
</div>
{{!-- Displays powers, description and ability --}}
{{#if (eq data.data.modeDisplayed.yellow2 true)}}
<div class="mode-card box-border yellow-abilities">
    <div class="forms">
        {{> "systems/scrpg/templates/partials/auxiliarypowers.hbs" mode="yellow2"}}

        <div>
            <table class="box-border">
                <tr>
                    <th>
                        {{localize "SCRPG.abilities.description"}}
                    </th>
                <tr>
                    <td>
                        {{editor content=data.data.modeDescription.yellow2 target="data.modeDescription.yellow2"
                        button=true
                        owner=owner editable=editable}}
                    </td>
                </tr>
            </table>
        </div>

        {{> "systems/scrpg/templates/partials/abilitiestable.hbs" mode="yellow2"}}

    </div>
</div>
{{else}}
<br>
{{/if}}

{{!-- Red mode/form --}}
<div {{#if (eq data.data.mode "red1" )}} class="select-border red-abilities mode-name"
    {{else}}class="box-border red-abilities mode-name" {{/if}}>
    <input class="mode-name-input" type="text" name="data.modeName.red1" value="{{data.data.modeName.red1}}">
    {{!-- Buttons for minimizing the details and applying it to character --}}
    <a title='{{localize "SCRPG.button.show"}}' class="show-red1 mode-item" {{#if (eq data.data.modeDisplayed.red1 true
        )}} style="color:green" {{/if}} data-aux="red1">
        <i class="fas fa-expand-arrows-alt"></i>
    </a>
    <a title='{{localize "SCRPG.button.changeMode"}}' class="set-mode mode-item" {{#if (eq data.data.mode "red1" )}}
        style="color: green" {{/if}} data-aux="red1">
        <i class="fas fa-upload"></i>
    </a>
</div>
{{!-- Displays powers, description and ability --}}
{{#if (eq data.data.modeDisplayed.red1 true)}}
<div class="mode-card box-border red-abilities">
    <div class="forms">
        {{> "systems/scrpg/templates/partials/auxiliarypowers.hbs" mode="red1"}}

        <div>
            <table class="box-border">
                <tr>
                    <th>
                        {{localize "SCRPG.abilities.description"}}
                    </th>
                <tr>
                    <td>
                        {{editor content=data.data.modeDescription.red1 target="data.modeDescription.red1"
                        button=true
                        owner=owner editable=editable}}
                    </td>
                </tr>
            </table>
        </div>

        {{> "systems/scrpg/templates/partials/abilitiestable.hbs" mode="red1"}}

    </div>
</div>
{{else}}
<br>
{{/if}}
{{/if}}

{{!-- When divided status selected will show two sets of status dice that can be set for the --}}
{{!-- civilian and powered mode --}}
{{#if (eq data.data.dividedStatus true)}}
<div class="section-name section-name-divided">
    <h3>{{localize "SCRPG.powerquality.statusDice"}}</h3>
</div>
<div class="status-dice box-border divided-status">
    <h3>{{localize "SCRPG.auxiliary.powered"}}</h3>
    <h3>{{localize "SCRPG.auxiliary.civilian"}}</h3>
    <select class="status-die-update green-border" name="data.statusDie.green">
        {{#select data.data.statusDie.green}}
        {{#each config.dieTypes as |name type|}}
        <option value="{{type}}">{{localize name}}</option>
        {{/each}}
        {{/select}}
    </select>

    <select class="status-die-update green-border" name="data.statusDie.civilianGreen">
        {{#select data.data.statusDie.civilianGreen}}
        {{#each config.dieTypes as |name type|}}
        <option value="{{type}}">{{localize name}}</option>
        {{/each}}
        {{/select}}
    </select>

    <select class="status-die-update yellow-border" name="data.statusDie.yellow">
        {{#select data.data.statusDie.yellow}}
        {{#each config.dieTypes as |name type|}}
        <option value="{{type}}">{{localize name}}</option>
        {{/each}}
        {{/select}}
    </select>

    <select class="status-die-update yellow-border" name="data.statusDie.civilianYellow">
        {{#select data.data.statusDie.civilianYellow}}
        {{#each config.dieTypes as |name type|}}
        <option value="{{type}}">{{localize name}}</option>
        {{/each}}
        {{/select}}
    </select>

    <select class="status-die-update red-border" name="data.statusDie.red">
        {{#select data.data.statusDie.red}}
        {{#each config.dieTypes as |name type|}}
        <option value="{{type}}">{{localize name}}</option>
        {{/each}}
        {{/select}}
    </select>

    <select class="status-die-update red-border" name="data.statusDie.civilianRed">
        {{#select data.data.statusDie.civilianRed}}
        {{#each config.dieTypes as |name type|}}
        <option value="{{type}}">{{localize name}}</option>
        {{/each}}
        {{/select}}
    </select>
</div>

{{/if}}